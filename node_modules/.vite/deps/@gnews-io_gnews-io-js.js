import {
  __commonJS
} from "./chunk-BUSYA2B4.js";

// node_modules/@gnews-io/gnews-io-js/dist/index.js
var require_dist = __commonJS({
  "node_modules/@gnews-io/gnews-io-js/dist/index.js"(exports, module) {
    var __awaiter = exports && exports.__awaiter || function(thisArg, _arguments, P, generator) {
      function adopt(value) {
        return value instanceof P ? value : new P(function(resolve) {
          resolve(value);
        });
      }
      return new (P || (P = Promise))(function(resolve, reject) {
        function fulfilled(value) {
          try {
            step(generator.next(value));
          } catch (e) {
            reject(e);
          }
        }
        function rejected(value) {
          try {
            step(generator["throw"](value));
          } catch (e) {
            reject(e);
          }
        }
        function step(result) {
          result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
        }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
      });
    };
    var GNews = class {
      /**
       * Creates a new GNews client
       * @param {string} apiKey - Your GNews.io API key
       * @param {Object} options - Additional configuration options
       * @param {string} options.version - API version (default: 'v4')
       * @param {number} options.maxWait - Maximum time to wait for a response in ms (default: 10000)
       */
      constructor(apiKey, options = {}) {
        if (!apiKey) {
          throw new Error("API key is required");
        }
        this.apiKey = apiKey;
        this.version = options.version || "v4";
        this.maxWait = options.maxWait || 1e4;
        this.baseUrl = `https://gnews.io/api/${this.version}`;
      }
      /**
       * Make a request to the GNews API
       * @private
       * @param {string} endpoint - API endpoint
       * @param {Object} params - Query parameters
       * @returns {Promise<Object>} - Promise resolving to API response
       */
      _request(endpoint_1) {
        return __awaiter(this, arguments, void 0, function* (endpoint, params = {}) {
          const url = new URL(`${this.baseUrl}${endpoint}`);
          url.searchParams.append("apikey", this.apiKey);
          for (const [key, value] of Object.entries(params)) {
            if (value !== null && value !== void 0) {
              url.searchParams.append(key, String(value));
            }
          }
          try {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), this.maxWait);
            const response = yield fetch(url.toString(), { signal: controller.signal });
            clearTimeout(timeoutId);
            if (!response.ok) {
              const errorData = yield response.json().catch(() => ({}));
              throw new Error(errorData.error || `HTTP Error: ${response.status}`);
            }
            return yield response.json();
          } catch (error) {
            if (error instanceof Error && error.name === "AbortError") {
              throw new Error(`Request timed out after ${this.maxWait}ms`);
            }
            throw error;
          }
        });
      }
      /**
       * Get top news headlines
       * @param {Object} params - Query parameters
       * @param {string} params.lang - Article language (e.g., 'en')
       * @param {string} params.country - Article country (e.g., 'us')
       * @param {number} params.max - Maximum number of articles to return
       * @param {string} params.category - News category (top, world, nation, business, technology, entertainment, sports, science, health)
       * @param {string} params.in - Where to search (title, description, content)
       * @param {string} params.nullable - Fields that can be null
       * @param {string} params.from - Start date in 'YYYY-MM-DD' format
       * @param {string} params.to - End date in 'YYYY-MM-DD' format
       * @param {number} params.page - (paid subscription) Page number for pagination
       * @param {string} params.expand - (paid subscription) Expand articles content
       * @returns {Promise<Object>} - Promise resolving to headlines response
       */
      topHeadlines(params) {
        return __awaiter(this, void 0, void 0, function* () {
          return this._request("/top-headlines", params);
        });
      }
      /**
       * Search for news articles
       * @param {string} q - Search query (required)
       * @param {Object} params - Query parameters
       * @param {string} params.lang - Article language (e.g., 'en')
       * @param {string} params.country - Article country (e.g., 'us')
       * @param {number} params.max - Maximum number of articles to return
       * @param {string} params.in - Where to search (title, description, content)
       * @param {string} params.nullable - Fields that can be null
       * @param {string} params.from - Start date in 'YYYY-MM-DD' format
       * @param {string} params.to - End date in 'YYYY-MM-DD' format
       * @param {string} params.sortby - Sort articles by (relevance, date, publish-time)
       * @param {number} params.page - (paid subscription) Page number for pagination
       * @param {string} params.expand - (paid subscription) Expand articles content
       * @returns {Promise<Object>} - Promise resolving to search response
       */
      search(q, params) {
        return __awaiter(this, void 0, void 0, function* () {
          if (!q) {
            throw new Error("Search query (q) is required");
          }
          params.q = q;
          return this._request("/search", params);
        });
      }
    };
    if (typeof window !== "undefined") {
      window.GNews = GNews;
    }
    module.exports = GNews;
  }
});
export default require_dist();
//# sourceMappingURL=@gnews-io_gnews-io-js.js.map
